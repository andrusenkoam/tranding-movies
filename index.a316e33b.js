const e=document.querySelector(".js-list"),t=document.querySelector(".js-guard");let n=1,r=new IntersectionObserver((function(r,i){r.forEach((r=>{r.isIntersecting&&(n+=1,o(n).then((n=>{e.insertAdjacentHTML("beforeend",s(n.results)),n.page===n.total_pages&&i.unobserve(t)})).catch((e=>console.log(e))))}))}),{root:null,rootMargin:"200px",threshold:1});function o(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=14d14d317e7936ec61c7763e22ff83f6&page=${e}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function s(e){return e.map((({title:e,poster_path:t})=>`<li class="item">\n        <img src="https://image.tmdb.org/t/p/w500/${t}" alt="${e}">\n        <div class="info-wrap">\n          <h2 class="title">${e}</h2>\n        </div>\n      </li>`)).join("")}o().then((n=>{e.insertAdjacentHTML("beforeend",s(n.results)),r.observe(t)})).catch((e=>console.log(e)));
//# sourceMappingURL=index.a316e33b.js.map
